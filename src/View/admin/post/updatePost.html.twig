{% extends "admin/template/baseAdmin.html.twig" %}
{% block css %}<link href="css/stylesadmin.css" rel="stylesheet"/>
{% endblock %}

{% block content %}
	<div id="layoutSidenav_content">
		<div class="container mt-4 col-6">
			<form method="post" action="" enctype="multipart/form-data">
				<div class="form-group border border-info mb-5 p-5 ml-5 mr-5">
					<div class="text-center mb-4"><h2 class="fw-bold">Modification d'un article</h2></div>
                    <p class="lead fw-bold">
                        Titre:
					    <input class="form-control mb-3" type="text" name="title" placeholder="Titre" value="{{post.title}}" required>
                    </p>
                    <p class="lead fw-bold">
                        Chapo:
					    <input class="form-control mb-3" type="text" name="chapo" placeholder="Chapo" value="{{post.chapo}}" required>
                    </p>
                    <p class="lead fw-bold">
                        Auteur:
					    <input class="form-control mb-3" type="text" name="author" placeholder="Auteur" value="{{post.author}}" required>
                    </p>
                    <p class="lead fw-bold">
                        Nom de l'image :
					    <input class="form-control mb-3" type="text" name="picture_name" placeholder="Image" value="{{post.picture}}">
                    </p> 
					<div class="custom-file">
                        <input type="file" class="custom-file-input mb-3" name="picture_path" id="customFile">
                        <label class="custom-file-label" for="customFile">Chemin de l'image</label>
                    </div>                   
					<label for="exampleFormControlTextarea1"class="lead fw-bold"> Contenu de l'article :</label>
					<textarea class="form-control mb-3" id="exampleFormControlTextarea1" name="content" rows="3" required>{{post.content}}</textarea>

                    <div class="block-categoriesSelected mb-2">
                        <p class="lead fw-bold">Anciennes catégories sélectionnées :</p>
                        <div class="categoriesSelected">
                            {% for catsel in categoriesSelected  %}
								<div class="pill-form mb-2">{{catsel.name}}</div>
                            {% endfor %}							
                        </div>
					</div>
					<label for="FormControlSelectCategories" class="lead fw-bold">Catégories</label>
					<select multiple name="categories[]" class="form-control mb-3" id="FormControlSelectCategories" required>
						{% for cat in categories %}
							<option value={{cat.id}}>{{cat.name}}</option>
						{% endfor %}						
					</select>
                    <div class="block-TagsSelected mb-2">
                        <p class="lead fw-bold">Anciennes tags sélectionnés :</p>
                        <div class="tagsSelected">
						{% for tagsel in tagsSelected  %}
                            <div class="pill-form mb-2">{{tagsel.name}}</div>
                        {% endfor %}							
                        </div>
					</div>
					<label for="FormControlSelectTags" class="lead fw-bold">Tags</label>
					<select multiple name="tags[]" class="form-control mb-3" id="FormControlSelectTags" required>
						{% for tag in tags %}
							<option value={{tag.id}}>{{tag.name}}</option>
						{% endfor %}
					</select>
                   <p class="lead fw-bold">Slug:</p>
					<input class="form-control mb-3" type="text" name="slug" placeholder="Slug" value={{post.slug}} required>
					<input class="form-control" type="hidden" name="id" value={{post.id}}>					
					<input class="form-control" type="hidden" name="created_at" value={{post.created_at|date('Y-m-d H:i:s')}}>
					<input class="form-control" type="hidden" name="user_id" value={{post.user_id}}>
					<input name="usertoken" type="hidden" value="{{session.get('usertoken')}}">
					<button type="submit" class="btn btn-primary ">Modifier</button>
				</div>
				
			</form>
		</div>
	</div>
{% endblock %}
